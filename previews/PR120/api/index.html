<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · SymbolicIndexingInterface.jl</title><meta name="title" content="API · SymbolicIndexingInterface.jl"/><meta property="og:title" content="API · SymbolicIndexingInterface.jl"/><meta property="twitter:title" content="API · SymbolicIndexingInterface.jl"/><meta name="description" content="Documentation for SymbolicIndexingInterface.jl."/><meta property="og:description" content="Documentation for SymbolicIndexingInterface.jl."/><meta property="twitter:description" content="Documentation for SymbolicIndexingInterface.jl."/><meta property="og:url" content="https://docs.sciml.ai/SymbolicIndexingInterface/stable/api/"/><meta property="twitter:url" content="https://docs.sciml.ai/SymbolicIndexingInterface/stable/api/"/><link rel="canonical" href="https://docs.sciml.ai/SymbolicIndexingInterface/stable/api/"/><script async src="https://www.googletagmanager.com/gtag/js?id=UA-90474609-3"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-90474609-3', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="SymbolicIndexingInterface.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">SymbolicIndexingInterface.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../terminology/">Terminology</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../usage/">Using the SciML Symbolic Indexing Interface</a></li><li><a class="tocitem" href="../simple_sii_sys/">Simple Demonstration of a Symbolic System Structure</a></li><li><a class="tocitem" href="../complete_sii/">Implementing the Complete Symbolic Indexing Interface</a></li></ul></li><li><a class="tocitem" href="../solution_wrappers/">Defining Solution Wrapper Fallbacks</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Index-provider-interface"><span>Index provider interface</span></a></li><li><a class="tocitem" href="#Value-provider-interface"><span>Value provider interface</span></a></li><li><a class="tocitem" href="#Container-objects"><span>Container objects</span></a></li><li class="toplevel"><a class="tocitem" href="#Symbolic-Trait"><span>Symbolic Trait</span></a></li><li class="toplevel"><a class="tocitem" href="#Types"><span>Types</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/SciML/SymbolicIndexingInterface.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/master/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Interface-Functions"><a class="docs-heading-anchor" href="#Interface-Functions">Interface Functions</a><a id="Interface-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Interface-Functions" title="Permalink"></a></h1><h2 id="Index-provider-interface"><a class="docs-heading-anchor" href="#Index-provider-interface">Index provider interface</a><a id="Index-provider-interface-1"></a><a class="docs-heading-anchor-permalink" href="#Index-provider-interface" title="Permalink"></a></h2><h3 id="Mandatory-methods"><a class="docs-heading-anchor" href="#Mandatory-methods">Mandatory methods</a><a id="Mandatory-methods-1"></a><a class="docs-heading-anchor-permalink" href="#Mandatory-methods" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.is_variable" href="#SymbolicIndexingInterface.is_variable"><code>SymbolicIndexingInterface.is_variable</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_variable(indp, sym)</code></pre><p>Check whether the given <code>sym</code> is a variable in <code>indp</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L16-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.variable_index" href="#SymbolicIndexingInterface.variable_index"><code>SymbolicIndexingInterface.variable_index</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">variable_index(indp, sym, [i])</code></pre><p>Return the index of the given variable <code>sym</code> in <code>indp</code>, or <code>nothing</code> otherwise. If <a href="#SymbolicIndexingInterface.constant_structure"><code>constant_structure</code></a> is <code>false</code>, this accepts the current time index as an additional parameter <code>i</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L23-L29">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.variable_symbols" href="#SymbolicIndexingInterface.variable_symbols"><code>SymbolicIndexingInterface.variable_symbols</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">variable_symbols(indp, [i])</code></pre><p>Return a vector of the symbolic variables being solved for in the index provider <code>indp</code>. If <code>constant_structure(sys) == false</code> this accepts an additional parameter indicating the current time index. The returned vector should not be mutated.</p><p>For types that implement <code>Base.getindex</code> with symbolic indices using this interface, the shorthand <code>valp[solvedvariables]</code> can be used as shorthand for <code>valp[variable_symbols(sys)]</code>. See: <a href="#SymbolicIndexingInterface.solvedvariables"><code>solvedvariables</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L33-L43">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.is_parameter" href="#SymbolicIndexingInterface.is_parameter"><code>SymbolicIndexingInterface.is_parameter</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_parameter(indp, sym)</code></pre><p>Check whether the given <code>sym</code> is a parameter in <code>indp</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L47-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.parameter_index" href="#SymbolicIndexingInterface.parameter_index"><code>SymbolicIndexingInterface.parameter_index</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parameter_index(indp, sym)</code></pre><p>Return the index of the given parameter <code>sym</code> in <code>indp</code>, or <code>nothing</code> otherwise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L54-L58">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.parameter_symbols" href="#SymbolicIndexingInterface.parameter_symbols"><code>SymbolicIndexingInterface.parameter_symbols</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parameter_symbols(indp)</code></pre><p>Return a vector of the symbolic parameters of the given index provider <code>indp</code>. The returned vector should not be mutated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L162-L167">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.is_independent_variable" href="#SymbolicIndexingInterface.is_independent_variable"><code>SymbolicIndexingInterface.is_independent_variable</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_independent_variable(indp, sym)</code></pre><p>Check whether the given <code>sym</code> is an independent variable in <code>indp</code>. The returned vector should not be mutated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L170-L175">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.independent_variable_symbols" href="#SymbolicIndexingInterface.independent_variable_symbols"><code>SymbolicIndexingInterface.independent_variable_symbols</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">independent_variable_symbols(indp)</code></pre><p>Return a vector of the symbolic independent variables of the given index provider <code>indp</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L178-L182">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.is_observed" href="#SymbolicIndexingInterface.is_observed"><code>SymbolicIndexingInterface.is_observed</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_observed(indp, sym)</code></pre><p>Check whether the given <code>sym</code> is an observed value in <code>indp</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L185-L189">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.default_values" href="#SymbolicIndexingInterface.default_values"><code>SymbolicIndexingInterface.default_values</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">default_values(indp)</code></pre><p>Return a dictionary mapping symbols in the index provider to their default value, if any. This includes parameter symbols. The dictionary must be mutable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L290-L295">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.is_time_dependent" href="#SymbolicIndexingInterface.is_time_dependent"><code>SymbolicIndexingInterface.is_time_dependent</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_time_dependent(indp)</code></pre><p>Check if <code>indp</code> has time as (one of) its independent variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L233-L237">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.constant_structure" href="#SymbolicIndexingInterface.constant_structure"><code>SymbolicIndexingInterface.constant_structure</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">constant_structure(indp)</code></pre><p>Check if <code>indp</code> has a constant structure. Constant structure index providers do not change the number of variables or parameters over time.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L261-L266">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.all_variable_symbols" href="#SymbolicIndexingInterface.all_variable_symbols"><code>SymbolicIndexingInterface.all_variable_symbols</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">all_variable_symbols(indp)</code></pre><p>Return a vector of variable symbols in the system, including observed quantities.</p><p>For types that implement <code>Base.getindex</code> with symbolic indices using this interface, The shorthand <code>sys[allvariables]</code> can be used as shorthand for <code>valp[all_variable_symbols(indp)]</code>.</p><p>See: <a href="#SymbolicIndexingInterface.allvariables"><code>allvariables</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L269-L279">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.all_symbols" href="#SymbolicIndexingInterface.all_symbols"><code>SymbolicIndexingInterface.all_symbols</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">all_symbols(indp)</code></pre><p>Return an array of all symbols in the index provider. This includes parameters and independent variables.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L282-L287">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.solvedvariables" href="#SymbolicIndexingInterface.solvedvariables"><code>SymbolicIndexingInterface.solvedvariables</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">const solvedvariables = SolvedVariables()</code></pre><p>This singleton is used as a shortcut to allow indexing of all solution variables (excluding observed quantities). It has a <a href="#SymbolicIndexingInterface.symbolic_type"><code>symbolic_type</code></a> of <a href="#SymbolicIndexingInterface.ScalarSymbolic"><code>ScalarSymbolic</code></a>. See: <a href="#SymbolicIndexingInterface.variable_symbols"><code>variable_symbols</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L307-L313">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.allvariables" href="#SymbolicIndexingInterface.allvariables"><code>SymbolicIndexingInterface.allvariables</code></a> — <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">const allvariables = AllVariables()</code></pre><p>This singleton is used as a shortcut to allow indexing of all solution variables (including observed quantities). It has a <a href="#SymbolicIndexingInterface.symbolic_type"><code>symbolic_type</code></a> of <a href="#SymbolicIndexingInterface.ScalarSymbolic"><code>ScalarSymbolic</code></a>. See <a href="#SymbolicIndexingInterface.all_variable_symbols"><code>all_variable_symbols</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L319-L325">source</a></section></article><h3 id="Optional-Methods"><a class="docs-heading-anchor" href="#Optional-Methods">Optional Methods</a><a id="Optional-Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Optional-Methods" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.symbolic_container" href="#SymbolicIndexingInterface.symbolic_container"><code>SymbolicIndexingInterface.symbolic_container</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">symbolic_container(indp)</code></pre><p>Using <code>indp</code>, return an object that implements the index provider interface. In case <code>indp</code> itself implements the interface, <code>indp</code> can be returned as-is. All index provider interface methods fall back to calling the same method on <code>symbolic_container(indp)</code>, so this may be used for trivial implementations of the interface that forward all calls to another object.</p><p>Note that this method is optional. Thus the correct method to check for a fallback is:</p><pre><code class="language-julia hljs">hasmethod(symbolic_container, Tuple{typeof(indp)}) &amp;&amp; symbolic_container(indp) != indp</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L1-L13">source</a></section></article><h4 id="Observed-equation-handling"><a class="docs-heading-anchor" href="#Observed-equation-handling">Observed equation handling</a><a id="Observed-equation-handling-1"></a><a class="docs-heading-anchor-permalink" href="#Observed-equation-handling" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.observed" href="#SymbolicIndexingInterface.observed"><code>SymbolicIndexingInterface.observed</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">observed(indp, sym, [states])</code></pre><p>Return the observed function of the given <code>sym</code> in <code>indp</code>. The returned function should have the signature <code>(u, p) -&gt; [values...]</code> where <code>u</code> and <code>p</code> is the current state and parameter object, respectively. If <code>istimedependent(indp) == true</code>, the function should accept the current time <code>t</code> as its third parameter. If <code>constant_structure(indp) == false</code>, <code>observed</code> accepts a third parameter, which can either be a vector of symbols indicating the order of states or a time index, which identifies the order of states. This function does not need to be defined if <a href="#SymbolicIndexingInterface.is_observed"><code>is_observed</code></a> always returns <code>false</code>. Thus, it is mandatory to always check <code>is_observed</code> before using this function.</p><p>If <code>!is_markovian(indp)</code>, the returned function must have the signature <code>(u, h, p, t) -&gt; [values...]</code> where <code>h</code> is the history function, which can be called to obtain past values of the state. The exact signature and semantics of <code>h</code> depend on how it is used inside the returned function. <code>h</code> is obtained from a value provider using <a href="#SymbolicIndexingInterface.get_history_function"><code>get_history_function</code></a>.</p><p>See also: <a href="#SymbolicIndexingInterface.is_time_dependent"><code>is_time_dependent</code></a>, <a href="#SymbolicIndexingInterface.is_markovian"><code>is_markovian</code></a>, <a href="#SymbolicIndexingInterface.constant_structure"><code>constant_structure</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L192-L211">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.parameter_observed" href="#SymbolicIndexingInterface.parameter_observed"><code>SymbolicIndexingInterface.parameter_observed</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parameter_observed(indp, sym)</code></pre><p>Return the observed function of <code>sym</code> in <code>indp</code>. This functions similarly to <a href="#SymbolicIndexingInterface.observed"><code>observed</code></a> except that <code>u</code> is not an argument of the returned function. For time- dependent systems, the returned function must have the signature <code>(p, t) -&gt; [values...]</code>. For time-independent systems, the returned function must have the signature <code>(p) -&gt; [values...]</code>.</p><p>By default, this function returns <code>nothing</code>, indicating that the index provider does not support generating parameter observed functions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L108-L119">source</a></section></article><h4 id="Historical-index-providers"><a class="docs-heading-anchor" href="#Historical-index-providers">Historical index providers</a><a id="Historical-index-providers-1"></a><a class="docs-heading-anchor-permalink" href="#Historical-index-providers" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.is_markovian" href="#SymbolicIndexingInterface.is_markovian"><code>SymbolicIndexingInterface.is_markovian</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_markovian(indp)</code></pre><p>Check if an index provider represents a Markovian system. Markovian systems do not require knowledge of past states to simulate. This function is only applicable to index providers for which <code>is_time_dependent(indp)</code> returns <code>true</code>.</p><p>Non-Markovian index providers return <a href="#SymbolicIndexingInterface.observed"><code>observed</code></a> functions with a different signature. All value providers associated with a non-markovian index provider must implement <a href="#SymbolicIndexingInterface.get_history_function"><code>get_history_function</code></a>.</p><p>Returns <code>true</code> by default.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L240-L252">source</a></section></article><h4 id="Parameter-timeseries"><a class="docs-heading-anchor" href="#Parameter-timeseries">Parameter timeseries</a><a id="Parameter-timeseries-1"></a><a class="docs-heading-anchor-permalink" href="#Parameter-timeseries" title="Permalink"></a></h4><p>If the index provider contains parameters that change during the course of the simulation at discrete time points, it must implement the following methods to ensure correct functioning of <a href="#SymbolicIndexingInterface.getsym"><code>getsym</code></a> and <a href="#SymbolicIndexingInterface.getp"><code>getp</code></a> for value providers that save the parameter timeseries. Note that there can be multiple parameter timeseries, in case different parameters may change at different times.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.is_timeseries_parameter" href="#SymbolicIndexingInterface.is_timeseries_parameter"><code>SymbolicIndexingInterface.is_timeseries_parameter</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_timeseries_parameter(indp, sym)</code></pre><p>Check whether the given <code>sym</code> is a timeseries parameter in <code>indp</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L61-L65">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.timeseries_parameter_index" href="#SymbolicIndexingInterface.timeseries_parameter_index"><code>SymbolicIndexingInterface.timeseries_parameter_index</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">timeseries_parameter_index(indp, sym)</code></pre><p>Return the index of timeseries parameter <code>sym</code> in <code>indp</code>. Must return this index as a <a href="#SymbolicIndexingInterface.ParameterTimeseriesIndex"><code>ParameterTimeseriesIndex</code></a> object. Return <code>nothing</code> if <code>sym</code> is not a timeseries parameter in <code>indp</code>. Defaults to returning <code>nothing</code>. Respects the <a href="#SymbolicIndexingInterface.symbolic_container"><code>symbolic_container</code></a> fallback for <code>indp</code> if present.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L91-L98">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.ParameterTimeseriesIndex" href="#SymbolicIndexingInterface.ParameterTimeseriesIndex"><code>SymbolicIndexingInterface.ParameterTimeseriesIndex</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ParameterTimeseriesIndex
function ParameterTimeseriesIndex(timeseries_idx, parameter_idx)</code></pre><p>A struct storing the index of the timeseries of a timeseries parameter in a parameter timeseries object. <code>timeseries_idx</code> refers to an index that identifies the timeseries that the parameter belongs to. <code>parameter_idx</code> refers to the index of the parameter&#39;s timeseries in that timeseries object. Note that <code>parameter_idx</code> may be different from the object returned by <a href="#SymbolicIndexingInterface.parameter_index"><code>parameter_index</code></a> for a given parameter. The two fields in this struct are <code>timeseries_idx</code> and <code>parameter_idx</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L75-L85">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.get_all_timeseries_indexes" href="#SymbolicIndexingInterface.get_all_timeseries_indexes"><code>SymbolicIndexingInterface.get_all_timeseries_indexes</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_all_timeseries_indexes(indp, sym)</code></pre><p>Return a <code>Set</code> of all unique timeseries indexes of variables in symbolic variable <code>sym</code>. <code>sym</code> may be a symbolic variable or expression, an array of symbolics, an index, or an array of indices. Continuous variables correspond to the <a href="#SymbolicIndexingInterface.ContinuousTimeseries"><code>ContinuousTimeseries</code></a> timeseries index. Non-timeseries parameters do not have a timeseries index. Timeseries parameters have the same timeseries index as that returned by <a href="#SymbolicIndexingInterface.timeseries_parameter_index"><code>timeseries_parameter_index</code></a>. Note that the independent variable corresponds to the <code>ContinuousTimeseries</code> timeseries index.</p><p>Any ambiguities should be resolved in favor of variables. For example, if <code>1</code> could refer to the variable at index <code>1</code> or parameter at index <code>1</code>, it should be interpreted as the variable.</p><p>By default, this function returns <code>Set([ContinuousTimeseries()])</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L136-L152">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.ContinuousTimeseries" href="#SymbolicIndexingInterface.ContinuousTimeseries"><code>SymbolicIndexingInterface.ContinuousTimeseries</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ContinuousTimeseries end</code></pre><p>A singleton struct corresponding to the timeseries index of the continuous timeseries.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/index_provider_interface.jl#L129-L133">source</a></section></article><h2 id="Value-provider-interface"><a class="docs-heading-anchor" href="#Value-provider-interface">Value provider interface</a><a id="Value-provider-interface-1"></a><a class="docs-heading-anchor-permalink" href="#Value-provider-interface" title="Permalink"></a></h2><h3 id="State-indexing"><a class="docs-heading-anchor" href="#State-indexing">State indexing</a><a id="State-indexing-1"></a><a class="docs-heading-anchor-permalink" href="#State-indexing" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.Timeseries" href="#SymbolicIndexingInterface.Timeseries"><code>SymbolicIndexingInterface.Timeseries</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct Timeseries &lt;: IsTimeseriesTrait end</code></pre><p>Trait indicating a type contains timeseries data. This affects the behaviour of functions such as <a href="#SymbolicIndexingInterface.state_values"><code>state_values</code></a> and <a href="#SymbolicIndexingInterface.current_time"><code>current_time</code></a>.</p><p>See also: <a href="#SymbolicIndexingInterface.NotTimeseries"><code>NotTimeseries</code></a>, <a href="#SymbolicIndexingInterface.is_timeseries"><code>is_timeseries</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/trait.jl#L112-L119">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.NotTimeseries" href="#SymbolicIndexingInterface.NotTimeseries"><code>SymbolicIndexingInterface.NotTimeseries</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct NotTimeseries &lt;: IsTimeseriesTrait end</code></pre><p>Trait indicating a type does not contain timeseries data. This affects the behaviour of functions such as <a href="#SymbolicIndexingInterface.state_values"><code>state_values</code></a> and <a href="#SymbolicIndexingInterface.current_time"><code>current_time</code></a>. Note that if a type is <code>NotTimeseries</code> this only implies that it does not <em>store</em> timeseries data. It may still be time-dependent. For example, an <code>ODEProblem</code> only stores the initial state of a system, so it is <code>NotTimeseries</code>, but still time-dependent. This is the default trait variant for all types.</p><p>See also: <a href="#SymbolicIndexingInterface.Timeseries"><code>Timeseries</code></a>, <a href="#SymbolicIndexingInterface.is_timeseries"><code>is_timeseries</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/trait.jl#L122-L133">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.is_timeseries" href="#SymbolicIndexingInterface.is_timeseries"><code>SymbolicIndexingInterface.is_timeseries</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_timeseries(x) = is_timeseries(typeof(x))
is_timeseries(::Type)</code></pre><p>Get the timeseries trait of a type. Defaults to <a href="#SymbolicIndexingInterface.NotTimeseries"><code>NotTimeseries</code></a> for all types. A type for which <code>is_timeseries(T) == Timeseries()</code> may also have a parameter timeseries. This is determined by the <a href="#SymbolicIndexingInterface.is_parameter_timeseries"><code>is_parameter_timeseries</code></a> trait.</p><p>See also: <a href="#SymbolicIndexingInterface.Timeseries"><code>Timeseries</code></a>, <a href="#SymbolicIndexingInterface.NotTimeseries"><code>NotTimeseries</code></a>, <a href="#SymbolicIndexingInterface.is_parameter_timeseries"><code>is_parameter_timeseries</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/trait.jl#L136-L145">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.state_values" href="#SymbolicIndexingInterface.state_values"><code>SymbolicIndexingInterface.state_values</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">state_values(valp)
state_values(valp, i)</code></pre><p>Return an indexable collection containing the values of all states in the value provider <code>p</code>. If <code>is_timeseries(valp)</code> is <a href="#SymbolicIndexingInterface.Timeseries"><code>Timeseries</code></a>, return a vector of arrays, each of which contain the state values at the corresponding timestep. In this case, the two-argument version of the function can also be implemented to efficiently return the state values at timestep <code>i</code>. By default, the two-argument method calls <code>state_values(valp)[i]</code>. If <code>i</code> consists of multiple indices (for example, <code>Colon</code>, <code>AbstractArray{Int}</code>, <code>AbstractArray{Bool}</code>) specialized methods may be defined for efficiency. By default, <code>state_values(valp, ::Colon) = state_values(valp)</code> to avoid copying the timeseries.</p><p>If this function is called with an <code>AbstractArray</code>, it will return the same array.</p><p>See: <a href="#SymbolicIndexingInterface.is_timeseries"><code>is_timeseries</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/value_provider_interface.jl#L83-L100">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.set_state!" href="#SymbolicIndexingInterface.set_state!"><code>SymbolicIndexingInterface.set_state!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_state!(valp, val, idx)</code></pre><p>Set the state at index <code>idx</code> to <code>val</code> for value provider <code>valp</code>. This defaults to modifying <code>state_values(valp)</code>. If any additional bookkeeping needs to be performed or the default implementation does not work for a particular type, this method needs to be defined to enable the proper functioning of <a href="#SymbolicIndexingInterface.setsym"><code>setsym</code></a>.</p><p>See: <a href="#SymbolicIndexingInterface.state_values"><code>state_values</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/value_provider_interface.jl#L107-L116">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.current_time" href="#SymbolicIndexingInterface.current_time"><code>SymbolicIndexingInterface.current_time</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">current_time(valp)
current_time(valp, i)</code></pre><p>Return the current time in the value provider <code>valp</code>. If <code>is_timeseries(valp)</code> is <a href="#SymbolicIndexingInterface.Timeseries"><code>Timeseries</code></a>, return the vector of timesteps at which the state value is saved. In this case, the two-argument version of the function can also be implemented to efficiently return the time at timestep <code>i</code>. By default, the two- argument method calls <code>current_time(p)[i]</code>. It is assumed that the timeseries is sorted in increasing order.</p><p>If <code>i</code> consists of multiple indices (for example, <code>Colon</code>, <code>AbstractArray{Int}</code>, <code>AbstractArray{Bool}</code>) specialized methods may be defined for efficiency. By default, <code>current_time(valp, ::Colon) = current_time(valp)</code> to avoid copying the timeseries.</p><p>By default, the single-argument version acts as the identity function if <code>valp isa AbstractVector</code>.</p><p>See: <a href="#SymbolicIndexingInterface.is_timeseries"><code>is_timeseries</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/value_provider_interface.jl#L119-L138">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.getsym" href="#SymbolicIndexingInterface.getsym"><code>SymbolicIndexingInterface.getsym</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getsym(indp, sym)</code></pre><p>Return a function that takes a value provider and returns the value of the symbolic variable <code>sym</code>. If <code>sym</code> is not an observed quantity, the returned function can also directly be called with an array of values representing the state vector. <code>sym</code> can be an index into the state vector, a symbolic variable, a symbolic expression involving symbolic variables in the index provider <code>indp</code>, a parameter symbol, the independent variable symbol, or an array/tuple of the aforementioned. If the returned function is called with a timeseries object, it can also be given a second argument representing the index at which to return the value of <code>sym</code>.</p><p>At minimum, this requires that the value provider implement <a href="#SymbolicIndexingInterface.state_values"><code>state_values</code></a>. To support symbolic expressions, the value provider must implement <a href="#SymbolicIndexingInterface.observed"><code>observed</code></a>, <a href="#SymbolicIndexingInterface.parameter_values"><code>parameter_values</code></a> and <a href="#SymbolicIndexingInterface.current_time"><code>current_time</code></a>.</p><p>This function typically does not need to be implemented, and has a default implementation relying on the above functions.</p><p>If the value provider is a parameter timeseries object, the same rules apply as <a href="#SymbolicIndexingInterface.getp"><code>getp</code></a>. The difference here is that <code>sym</code> may also contain non-parameter symbols, and the values are always returned corresponding to the state timeseries.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/state_indexing.jl#L5-L27">source</a></section><section><div><pre><code class="language-julia hljs">getsym(bi::BatchedInterface)</code></pre><p>Given a <a href="#SymbolicIndexingInterface.BatchedInterface"><code>BatchedInterface</code></a> composed from <code>n</code> index providers (and corresponding symbols), return a function which takes <code>n</code> corresponding value providers and returns an array of the values of the symbols in the union. The returned function can also be passed an <code>AbstractArray</code> of the appropriate <code>eltype</code> and size as its first argument, in which case the operation will populate the array in-place with the values of the symbols in the union.</p><p>Note that all of the value providers passed to the function returned by <code>getsym</code> must satisfy <code>is_timeseries(prob) === NotTimeseries()</code>.</p><p>The value of the <code>i</code>th symbol in the union (obtained through <code>variable_symbols(bi)[i]</code>) is obtained from the problem corresponding to the associated index provider (i.e. the value provider at index <code>associated_systems(bi)[i]</code>).</p><p>See also: <a href="#SymbolicIndexingInterface.variable_symbols"><code>variable_symbols</code></a>, <a href="#SymbolicIndexingInterface.associated_systems"><code>associated_systems</code></a>, <a href="#SymbolicIndexingInterface.is_timeseries"><code>is_timeseries</code></a>, <a href="#SymbolicIndexingInterface.NotTimeseries"><code>NotTimeseries</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/batched_interface.jl#L120-L139">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.setsym" href="#SymbolicIndexingInterface.setsym"><code>SymbolicIndexingInterface.setsym</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">setsym(sys, sym)</code></pre><p>Return a function that takes a value provider and a value, and sets the the state <code>sym</code> to that value. Note that <code>sym</code> can be an index, a symbolic variable, or an array/tuple of the aforementioned.</p><p>Requires that the value provider implement <a href="#SymbolicIndexingInterface.state_values"><code>state_values</code></a> and the returned collection be a mutable reference to the state vector in the value provider. Alternatively, if this is not possible or additional actions need to be performed when updating state, <a href="#SymbolicIndexingInterface.set_state!"><code>set_state!</code></a> can be defined. This function does not work on types for which <a href="#SymbolicIndexingInterface.is_timeseries"><code>is_timeseries</code></a> is <a href="#SymbolicIndexingInterface.Timeseries"><code>Timeseries</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/state_indexing.jl#L313-L325">source</a></section><section><div><pre><code class="language-julia hljs">setsym(bi::BatchedInterface)</code></pre><p>Given a <a href="#SymbolicIndexingInterface.BatchedInterface"><code>BatchedInterface</code></a> composed from <code>n</code> index providers (and corresponding symbols), return a function which takes <code>n</code> corresponding problems and an array of the values, and updates each of the problems with the values of the corresponding symbols.</p><p>Note that all of the value providers passed to the function returned by <code>setsym</code> must satisfy <code>is_timeseries(prob) === NotTimeseries()</code>.</p><p>Note that if any subset of the <code>n</code> index providers share common symbols (among those passed to <code>BatchedInterface</code>) then all of the corresponding value providers in the subset will be updated with the values of the common symbols.</p><p>See also: <a href="#SymbolicIndexingInterface.is_timeseries"><code>is_timeseries</code></a>, <a href="#SymbolicIndexingInterface.NotTimeseries"><code>NotTimeseries</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/batched_interface.jl#L191-L206">source</a></section></article><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p><code>getu</code> and <code>setu</code> have been renamed to <a href="#SymbolicIndexingInterface.getsym"><code>getsym</code></a> and <a href="#SymbolicIndexingInterface.setsym"><code>setsym</code></a> respectively.</p></div></div><h4 id="Historical-value-providers"><a class="docs-heading-anchor" href="#Historical-value-providers">Historical value providers</a><a id="Historical-value-providers-1"></a><a class="docs-heading-anchor-permalink" href="#Historical-value-providers" title="Permalink"></a></h4><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.get_history_function" href="#SymbolicIndexingInterface.get_history_function"><code>SymbolicIndexingInterface.get_history_function</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_history_function(valp)</code></pre><p>Return the history function for a value provider. This is required for all value providers associated with an index provider <code>indp</code> for which <code>!is_markovian(indp)</code>.</p><p>See also: <a href="#SymbolicIndexingInterface.is_markovian"><code>is_markovian</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/value_provider_interface.jl#L145-L152">source</a></section></article><h3 id="Parameter-indexing"><a class="docs-heading-anchor" href="#Parameter-indexing">Parameter indexing</a><a id="Parameter-indexing-1"></a><a class="docs-heading-anchor-permalink" href="#Parameter-indexing" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.parameter_values" href="#SymbolicIndexingInterface.parameter_values"><code>SymbolicIndexingInterface.parameter_values</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parameter_values(valp)
parameter_values(valp, i)</code></pre><p>Return an indexable collection containing the value of each parameter in <code>valp</code>. The two- argument version of this function returns the parameter value at index <code>i</code>. The two-argument version of this function will default to returning <code>parameter_values(valp)[i]</code>.</p><p>If this function is called with an <code>AbstractArray</code> or <code>Tuple</code>, it will return the same array/tuple.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/value_provider_interface.jl#L5-L16">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.set_parameter!" href="#SymbolicIndexingInterface.set_parameter!"><code>SymbolicIndexingInterface.set_parameter!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_parameter!(valp, val, idx)</code></pre><p>Set the parameter at index <code>idx</code> to <code>val</code> for value provider <code>valp</code>. This defaults to modifying <code>parameter_values(valp)</code>. If any additional bookkeeping needs to be performed or the default implementation does not work for a particular type, this method needs to be defined to enable the proper functioning of <a href="#SymbolicIndexingInterface.setp"><code>setp</code></a>.</p><p>See: <a href="#SymbolicIndexingInterface.parameter_values"><code>parameter_values</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/value_provider_interface.jl#L51-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.finalize_parameters_hook!" href="#SymbolicIndexingInterface.finalize_parameters_hook!"><code>SymbolicIndexingInterface.finalize_parameters_hook!</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">finalize_parameters_hook!(valp, sym)</code></pre><p>This is a callback run one for each call to the function returned by <a href="#SymbolicIndexingInterface.setp"><code>setp</code></a> which can be used to update internal data structures when parameters are modified. This is in contrast to <a href="#SymbolicIndexingInterface.set_parameter!"><code>set_parameter!</code></a> which is run once for each parameter that is updated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/value_provider_interface.jl#L69-L76">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.getp" href="#SymbolicIndexingInterface.getp"><code>SymbolicIndexingInterface.getp</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getp(indp, sym)</code></pre><p>Return a function that takes an value provider, and returns the value of the parameter <code>sym</code>. The value provider has to at least store the values of parameters in the corresponding index provider. Note that <code>sym</code> can be an index, symbolic variable, or an array/tuple of the aforementioned.</p><p>If <code>sym</code> is an array/tuple of parameters, then the returned function can also be used as an in-place getter function. The first argument is the buffer (must be an <code>AbstractArray</code>) to which the parameter values should be written, and the second argument is the value provider.</p><p>Requires that the value provider implement <a href="#SymbolicIndexingInterface.parameter_values"><code>parameter_values</code></a>. This function may not always need to be implemented, and has a default implementation for collections that implement <code>getindex</code>.</p><p>If the returned function is used on a timeseries object which saves parameter timeseries, it can be used to index said timeseries. The timeseries object must implement <a href="#SymbolicIndexingInterface.is_parameter_timeseries"><code>is_parameter_timeseries</code></a> and <a href="#SymbolicIndexingInterface.get_parameter_timeseries_collection"><code>get_parameter_timeseries_collection</code></a>. Additionally, the parameter object must implement <a href="#SymbolicIndexingInterface.with_updated_parameter_timeseries_values"><code>with_updated_parameter_timeseries_values</code></a>.</p><p>If <code>sym</code> is a timeseries parameter, the function will return the timeseries of the parameter if the value provider is a parameter timeseries object. An additional argument can be provided to the function indicating the specific indexes in the timeseries at which to access the values. If <code>sym</code> is an array of parameters, the following cases apply:</p><ul><li>All parameters are non-timeseries parameters: The function returns the value of each parameter.</li><li>All parameters are timeseries parameters: All the parameters must belong to the same timeseries (otherwise <code>getp</code> will error). The function returns the timeseries of all parameter values, and can be accessed at specific indices in the timeseries.</li><li>A mix of timeseries and non-timeseries parameters: The function can <em>only</em> be used on non-timeseries objects and will return the value of each parameter at in the object.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/parameter_indexing.jl#L1-L37">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.setp" href="#SymbolicIndexingInterface.setp"><code>SymbolicIndexingInterface.setp</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">setp(indp, sym)</code></pre><p>Return a function that takes a value provider and a value, and sets the parameter <code>sym</code> to that value. Note that <code>sym</code> can be an index, a symbolic variable, or an array/tuple of the aforementioned.</p><p>Requires that the value provider implement <a href="#SymbolicIndexingInterface.parameter_values"><code>parameter_values</code></a> and the returned collection be a mutable reference to the parameter object. In case <code>parameter_values</code> cannot return such a mutable reference, or additional actions need to be performed when updating parameters, <a href="#SymbolicIndexingInterface.set_parameter!"><code>set_parameter!</code></a> must be implemented.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/parameter_indexing.jl#L651-L662">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.setp_oop" href="#SymbolicIndexingInterface.setp_oop"><code>SymbolicIndexingInterface.setp_oop</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">setp_oop(indp, sym)</code></pre><p>Return a function which takes a value provider <code>valp</code> and a value <code>val</code>, and returns <code>parameter_values(valp)</code> with the parameters at <code>sym</code> set to <code>val</code>. This allows changing the types of values stored, and leverages <a href="#SymbolicIndexingInterface.remake_buffer"><code>remake_buffer</code></a>. Note that <code>sym</code> can be an index, a symbolic variable, or an array/tuple of the aforementioned.</p><p>Requires that the value provider implement <code>parameter_values</code> and <code>remake_buffer</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/parameter_indexing.jl#L717-L726">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.ParameterIndexingProxy" href="#SymbolicIndexingInterface.ParameterIndexingProxy"><code>SymbolicIndexingInterface.ParameterIndexingProxy</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ParameterIndexingProxy</code></pre><p>This struct wraps any struct implementing the value provider and index provider interfaces. It allows <code>getindex</code> and <code>setindex!</code> operations to get/set parameter values. Requires that the wrapped type support <a href="#SymbolicIndexingInterface.getp"><code>getp</code></a> and <a href="#SymbolicIndexingInterface.setp"><code>setp</code></a> for getting and setting parameter values respectively.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/parameter_indexing_proxy.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.show_params" href="#SymbolicIndexingInterface.show_params"><code>SymbolicIndexingInterface.show_params</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">show_params(io::IO, pip::ParameterIndexingProxy; num_rows = 20, show_all = false, scalarize = true, kwargs...)</code></pre><p>Method for customizing the table output. Keyword args:</p><ul><li>num_rows</li><li>show<em>all: whether to show all parameters. Overrides `num</em>rows`.</li><li>scalarize: whether to scalarize array symbolics in the table output.</li><li>kwargs... are passed to the pretty_table call.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/parameter_indexing_proxy.jl#L25-L33">source</a></section></article><h4 id="Parameter-timeseries-2"><a class="docs-heading-anchor" href="#Parameter-timeseries-2">Parameter timeseries</a><a class="docs-heading-anchor-permalink" href="#Parameter-timeseries-2" title="Permalink"></a></h4><p>If a solution object saves a timeseries of parameter values that are updated during the simulation (such as by callbacks), it must implement the following methods to ensure correct functioning of <a href="#SymbolicIndexingInterface.getsym"><code>getsym</code></a> and <a href="#SymbolicIndexingInterface.getp"><code>getp</code></a>.</p><p>Parameter timeseries support requires that the value provider store the different timeseries in a <a href="#SymbolicIndexingInterface.ParameterTimeseriesCollection"><code>ParameterTimeseriesCollection</code></a>.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.is_parameter_timeseries" href="#SymbolicIndexingInterface.is_parameter_timeseries"><code>SymbolicIndexingInterface.is_parameter_timeseries</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">is_parameter_timeseries(x) = is_parameter_timeseries(typeof(x))
is_parameter_timeseries(::Type)</code></pre><p>Get the parameter timeseries trait of a type. Defaults to <a href="#SymbolicIndexingInterface.NotTimeseries"><code>NotTimeseries</code></a> for all types. A type for which <code>is_parameter_timeseries(T) == Timeseries()</code> must also have <code>is_timeseries(T) == Timeseries()</code>.</p><p>See also: <a href="#SymbolicIndexingInterface.Timeseries"><code>Timeseries</code></a>, <a href="#SymbolicIndexingInterface.NotTimeseries"><code>NotTimeseries</code></a>, <a href="#SymbolicIndexingInterface.is_timeseries"><code>is_timeseries</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/trait.jl#L151-L160">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.get_parameter_timeseries_collection" href="#SymbolicIndexingInterface.get_parameter_timeseries_collection"><code>SymbolicIndexingInterface.get_parameter_timeseries_collection</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_parameter_timeseries_collection(valp)</code></pre><p>Return the <a href="#SymbolicIndexingInterface.ParameterTimeseriesCollection"><code>ParameterTimeseriesCollection</code></a> contained in timeseries value provider <code>valp</code>. Valid only for value providers where <a href="#SymbolicIndexingInterface.is_parameter_timeseries"><code>is_parameter_timeseries</code></a> returns <a href="#SymbolicIndexingInterface.Timeseries"><code>Timeseries</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/value_provider_interface.jl#L25-L31">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.ParameterTimeseriesCollection" href="#SymbolicIndexingInterface.ParameterTimeseriesCollection"><code>SymbolicIndexingInterface.ParameterTimeseriesCollection</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ParameterTimeseriesCollection{T}
function ParameterTimeseriesCollection(collection)</code></pre><p>A utility struct that helps in storing multiple parameter timeseries. It expects a collection of timseries objects (<a href="#SymbolicIndexingInterface.is_timeseries"><code>is_timeseries</code></a> returns <a href="#SymbolicIndexingInterface.Timeseries"><code>Timeseries</code></a>) for each. Each of the timeseries objects should implement <a href="#SymbolicIndexingInterface.state_values"><code>state_values</code></a> and <a href="#SymbolicIndexingInterface.current_time"><code>current_time</code></a>. Effectively, the &quot;states&quot; of each contained timeseries object are the parameter values it stores the timeseries of.</p><p>The collection is expected to implement <code>Base.eachindex</code>, <code>Base.iterate</code> and <code>Base.getindex</code>. The indexes of the collection should agree with the timeseries indexes returned by calling <a href="#SymbolicIndexingInterface.timeseries_parameter_index"><code>timeseries_parameter_index</code></a> on the corresponding index provider.</p><p>This type forwards <code>eachindex</code>, <code>iterate</code> and <code>length</code> to the contained <code>collection</code>. It implements <code>Base.parent</code> to allow access to the contained <code>collection</code>, and has the following <code>getindex</code> methods:</p><ul><li><code>getindex(ptc::ParameterTimeseriesCollection, idx) = ptc.collection[idx]</code>.</li><li><code>getindex(::ParameterTimeseriesCollection, idx::ParameterTimeseriesIndex)</code> returns the timeseries of the parameter referred to by <code>idx</code>.</li><li><code>getindex(::ParameterTimeseriesCollection, idx::ParameterTimeseriesIndex, subidx)</code> returns the value of the parameter referred to by <code>idx</code> at the time index <code>subidx</code>.</li><li>Apart from these cases, if multiple indexes are provided the first is treated as a timeseries index, the second the time index in the timeseries, and the (optional) third the index of the parameter in an element of the timeseries.</li></ul><p>The three-argument version of <a href="#SymbolicIndexingInterface.parameter_values"><code>parameter_values</code></a> is implemented for this type. The single-argument version of <code>parameter_values</code> returns the cached parameter object. This type does not implement any traits.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/parameter_timeseries_collection.jl#L1-L32">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.with_updated_parameter_timeseries_values" href="#SymbolicIndexingInterface.with_updated_parameter_timeseries_values"><code>SymbolicIndexingInterface.with_updated_parameter_timeseries_values</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">with_updated_parameter_timeseries_values(indp, params, args::Pair...)</code></pre><p>Return an indexable collection containing the value of all parameters in <code>params</code>, with parameters belonging to specific timeseries updated to different values. Each element in <code>args...</code> contains the timeseries index as the first value, and the saved parameter values in that partition. Not all parameter timeseries have to be updated using this method. If an in-place update can be performed, it should be done and the modified <code>params</code> returned. This method falls back on the basis of <code>symbolic_container(indp)</code>.</p><p>Note that here <code>params</code> is the parameter object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/value_provider_interface.jl#L34-L45">source</a></section></article><h3 id="Batched-Queries-and-Updates"><a class="docs-heading-anchor" href="#Batched-Queries-and-Updates">Batched Queries and Updates</a><a id="Batched-Queries-and-Updates-1"></a><a class="docs-heading-anchor-permalink" href="#Batched-Queries-and-Updates" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.BatchedInterface" href="#SymbolicIndexingInterface.BatchedInterface"><code>SymbolicIndexingInterface.BatchedInterface</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct BatchedInterface{S &lt;: AbstractVector, I}
function BatchedInterface(indp_syms::Tuple...)</code></pre><p>A struct which stores information for batched calls to <a href="#SymbolicIndexingInterface.getsym"><code>getsym</code></a> or <a href="#SymbolicIndexingInterface.setsym"><code>setsym</code></a>. Given <code>Tuple</code>s, where the first element of each tuple is an index provider and the second an array of symbolic variables (either states or parameters) in the index provider, <code>BatchedInterface</code> will compute the union of all symbols and associate each symbol with the first index provider with which it occurs.</p><p>For example, given two index providers <code>s1 = SymbolCache([:x, :y, :z])</code> and <code>s2 = SymbolCache([:y, :z, :w])</code>, <code>BatchedInterface((s1, [:x, :y]), (s2, [:y, :z]))</code> will associate <code>:x</code> and <code>:y</code> with <code>s1</code> and <code>:z</code> with <code>s2</code>. The information that <code>s1</code> had associated symbols <code>:x</code> and <code>:y</code> and <code>s2</code> had associated symbols <code>:y</code> and <code>:z</code> will also be retained internally.</p><p><code>BatchedInterface</code> implements <a href="#SymbolicIndexingInterface.variable_symbols"><code>variable_symbols</code></a>, <a href="#SymbolicIndexingInterface.is_variable"><code>is_variable</code></a>, <a href="#SymbolicIndexingInterface.variable_index"><code>variable_index</code></a> to query the order of symbols in the union.</p><p>See <a href="#SymbolicIndexingInterface.getsym"><code>getsym</code></a> and <a href="#SymbolicIndexingInterface.setsym"><code>setsym</code></a> for further details.</p><p>See also: <a href="#SymbolicIndexingInterface.associated_systems"><code>associated_systems</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/batched_interface.jl#L1-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.associated_systems" href="#SymbolicIndexingInterface.associated_systems"><code>SymbolicIndexingInterface.associated_systems</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">associated_systems(bi::BatchedInterface)</code></pre><p>Return an array of integers of the same length as <code>variable_symbols(bi)</code> where each value is the index of the index provider associated with the corresponding symbol in <code>variable_symbols(bi)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/batched_interface.jl#L111-L117">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.setsym_oop" href="#SymbolicIndexingInterface.setsym_oop"><code>SymbolicIndexingInterface.setsym_oop</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">setsym_oop(indp, sym)</code></pre><p>Return a function which takes a value provider <code>valp</code> and a value <code>val</code>, and returns <code>state_values(valp), parameter_values(valp)</code> with the states/parameters in <code>sym</code> set to the corresponding values in <code>val</code>. This allows changing the types of values stored, and leverages <a href="#SymbolicIndexingInterface.remake_buffer"><code>remake_buffer</code></a>. Note that <code>sym</code> can be an index, a symbolic variable, or an array/tuple of the aforementioned. All entries <code>s</code> in <code>sym</code> must satisfy <code>is_variable(indp, s)</code> or <code>is_parameter(indp, s)</code>.</p><p>Requires that the value provider implement <code>state_values</code>, <code>parameter_values</code> and <code>remake_buffer</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/state_indexing.jl#L382-L393">source</a></section><section><div><pre><code class="language-julia hljs">setsym_oop(bi::BatchedInterface)</code></pre><p>Given a <a href="#SymbolicIndexingInterface.BatchedInterface"><code>BatchedInterface</code></a> composed from <code>n</code> index providers (and corresponding symbols), return a function which takes <code>n</code> corresponding value providers and an array of values, and returns an <code>n</code>-tuple where each element is a 2-tuple consisting of the updated state values and parameter values of the corresponding value provider. Requires that the value provider implement <a href="#SymbolicIndexingInterface.state_values"><code>state_values</code></a>, <a href="#SymbolicIndexingInterface.parameter_values"><code>parameter_values</code></a>. The updates are performed out-of-place using <a href="#SymbolicIndexingInterface.remake_buffer"><code>remake_buffer</code></a>.</p><p>Note that all of the value providers passed to the returned function must satisfy <code>is_timeseries(prob) === NotTimeseries()</code>.</p><p>Note that if any subset of the <code>n</code> index providers share common symbols (among those passed to <code>BatchedInterface</code>) then all of the corresponding value providers in the subset will be updated with the values of the common symbols.</p><p>See also: <a href="#SymbolicIndexingInterface.is_timeseries"><code>is_timeseries</code></a>, <a href="#SymbolicIndexingInterface.NotTimeseries"><code>NotTimeseries</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/batched_interface.jl#L282-L300">source</a></section></article><h2 id="Container-objects"><a class="docs-heading-anchor" href="#Container-objects">Container objects</a><a id="Container-objects-1"></a><a class="docs-heading-anchor-permalink" href="#Container-objects" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.remake_buffer" href="#SymbolicIndexingInterface.remake_buffer"><code>SymbolicIndexingInterface.remake_buffer</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">remake_buffer(indp, oldbuffer, idxs, vals)</code></pre><p>Return a copy of the buffer <code>oldbuffer</code> with at (optionally symbolic) indexes <code>idxs</code> replaced by corresponding values from <code>vals</code>. Both <code>idxs</code> and <code>vals</code> must be iterables of the same length. <code>idxs</code> may contain symbolic variables whose index in the buffer is determined using <code>indp</code>. The types of values in <code>vals</code> may not match the types of values stored at the corresponding indexes in the buffer, in which case the type of the buffer should be promoted accordingly. In general, this method should attempt to preserve the types of values stored in <code>vals</code> as much as possible. Types can be promoted for type-stability, to maintain performance. The returned buffer should be of the same type (ignoring type-parameters) as <code>oldbuffer</code>.</p><p>This method is already implemented for <code>oldbuffer::AbstractArray</code> and <code>oldbuffer::Tuple</code>, and supports static arrays as well.</p><p>The deprecated version of this method which takes a <code>Dict</code> mapping symbols to values instead of <code>idxs</code> and <code>vals</code> will dispatch to the new method. In addition if no <code>remake_buffer</code> method exists with the new signature, it will call <code>remake_buffer(sys, oldbuffer, Dict(idxs .=&gt; vals))</code>.</p><p>Note that the new method signature allows <code>idxs</code> to be indexes, instead of requiring that they be symbolic variables. Thus, any type which implements the new method must also support indexes in <code>idxs</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/remake.jl#L1-L25">source</a></section></article><h1 id="Symbolic-Trait"><a class="docs-heading-anchor" href="#Symbolic-Trait">Symbolic Trait</a><a id="Symbolic-Trait-1"></a><a class="docs-heading-anchor-permalink" href="#Symbolic-Trait" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.ScalarSymbolic" href="#SymbolicIndexingInterface.ScalarSymbolic"><code>SymbolicIndexingInterface.ScalarSymbolic</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ScalarSymbolic &lt;: SymbolicTypeTrait end</code></pre><p>Trait indicating a type is a scalar symbolic variable.</p><p>See also: <a href="#SymbolicIndexingInterface.ArraySymbolic"><code>ArraySymbolic</code></a>, <a href="#SymbolicIndexingInterface.NotSymbolic"><code>NotSymbolic</code></a>, <a href="#SymbolicIndexingInterface.symbolic_type"><code>symbolic_type</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/trait.jl#L3-L9">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.ArraySymbolic" href="#SymbolicIndexingInterface.ArraySymbolic"><code>SymbolicIndexingInterface.ArraySymbolic</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ArraySymbolic &lt;: SymbolicTypeTrait end</code></pre><p>Trait indicating type is a symbolic array. Calling <code>collect</code> on a symbolic array must return an <code>AbstractArray</code> containing <code>ScalarSymbolic</code> variables for each element in the array, in the same shape as the represented array. For example, if <code>a</code> is a symbolic array representing a 2x2 matrix, <code>collect(a)</code> must return a 2x2 array of scalar symbolic variables.</p><p>See also: <a href="#SymbolicIndexingInterface.ScalarSymbolic"><code>ScalarSymbolic</code></a>, <a href="#SymbolicIndexingInterface.NotSymbolic"><code>NotSymbolic</code></a>, <a href="#SymbolicIndexingInterface.symbolic_type"><code>symbolic_type</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/trait.jl#L12-L21">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.NotSymbolic" href="#SymbolicIndexingInterface.NotSymbolic"><code>SymbolicIndexingInterface.NotSymbolic</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct NotSymbolic &lt;: SymbolicTypeTrait end</code></pre><p>Trait indicating a type is not symbolic.</p><p>See also: <a href="#SymbolicIndexingInterface.ScalarSymbolic"><code>ScalarSymbolic</code></a>, <a href="#SymbolicIndexingInterface.ArraySymbolic"><code>ArraySymbolic</code></a>, <a href="#SymbolicIndexingInterface.symbolic_type"><code>symbolic_type</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/trait.jl#L24-L30">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.symbolic_type" href="#SymbolicIndexingInterface.symbolic_type"><code>SymbolicIndexingInterface.symbolic_type</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">symbolic_type(x) = symbolic_type(typeof(x))
symbolic_type(::Type)</code></pre><p>Get the symbolic type trait of a type. Default to <a href="#SymbolicIndexingInterface.NotSymbolic"><code>NotSymbolic</code></a> for all types except <code>Symbol</code> and <code>Expr</code>, both of which are <a href="#SymbolicIndexingInterface.ScalarSymbolic"><code>ScalarSymbolic</code></a>.</p><p>See also: <a href="#SymbolicIndexingInterface.ScalarSymbolic"><code>ScalarSymbolic</code></a>, <a href="#SymbolicIndexingInterface.ArraySymbolic"><code>ArraySymbolic</code></a>, <a href="#SymbolicIndexingInterface.NotSymbolic"><code>NotSymbolic</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/trait.jl#L33-L41">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.hasname" href="#SymbolicIndexingInterface.hasname"><code>SymbolicIndexingInterface.hasname</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">hasname(x)</code></pre><p>Check whether the given symbolic variable (for which <code>symbolic_type(x) != NotSymbolic()</code>) has a valid name as per <code>getname</code>. Defaults to <code>true</code> for <code>x::Symbol</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/trait.jl#L47-L51">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.getname" href="#SymbolicIndexingInterface.getname"><code>SymbolicIndexingInterface.getname</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">getname(x)::Symbol</code></pre><p>Get the name of a symbolic variable as a <code>Symbol</code>. Acts as the identity function for <code>x::Symbol</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/trait.jl#L57-L62">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.symbolic_evaluate" href="#SymbolicIndexingInterface.symbolic_evaluate"><code>SymbolicIndexingInterface.symbolic_evaluate</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">symbolic_evaluate(expr, syms::Dict; kwargs...)</code></pre><p>Return the value of symbolic expression <code>expr</code> where the values of variables involved are obtained from the dictionary <code>syms</code>. The keys of <code>syms</code> are symbolic variables (not expressions of variables). The values of <code>syms</code> can be values or symbolic expressions.</p><p>The returned value should either be a value or an expression involving symbolic variables not present as keys in <code>syms</code>.</p><p>The function can take additional keyword arguments to control implementation-specific behavior.</p><p>This is already implemented for  <code>symbolic_evaluate(expr::Union{Symbol, Expr}, syms::Dict)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/trait.jl#L66-L82">source</a></section></article><h1 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.SymbolCache" href="#SymbolicIndexingInterface.SymbolCache"><code>SymbolicIndexingInterface.SymbolCache</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct SymbolCache
function SymbolCache(vars, [params, [indepvars]]; defaults = Dict(), timeseries_parameters = nothing)</code></pre><p>A struct implementing the index provider interface for a collection of variables, parameters, and independent variables. <code>vars</code> and <code>params</code> can be specified as arrays (in which case the index of a symbol is its index in the array) or <code>AbstractDict</code>s mapping symbols to indices. It is considered time dependent if it contains at least one independent variable.</p><p>It returns <code>true</code> for <code>is_observed(::SymbolCache, sym)</code> if <code>sym isa Union{Expr, Array{Expr}, Tuple{Vararg{Expr}}</code>. Functions can be generated using <code>observed</code> for <code>Expr</code>s involving variables in the <code>SymbolCache</code> if it has at most one independent variable.</p><p><code>defaults</code> is an <code>AbstractDict</code> mapping variables and/or parameters to their default initial values. The default initial values can also be other variables/ parameters or expressions of them. <code>timeseries_parameters</code> is an <code>AbstractDict</code> the timeseries parameters in <code>params</code> to their <a href="#SymbolicIndexingInterface.ParameterTimeseriesIndex"><code>ParameterTimeseriesIndex</code></a> indexes.</p><p>The independent variable may be specified as a single symbolic variable instead of an array containing a single variable if the system has only one independent variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/symbol_cache.jl#L1-L23">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="SymbolicIndexingInterface.ProblemState" href="#SymbolicIndexingInterface.ProblemState"><code>SymbolicIndexingInterface.ProblemState</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct ProblemState
function ProblemState(; u = nothing, p = nothing, t = nothing, h = nothing)</code></pre><p>A value provider struct which can be used as an argument to the function returned by <a href="#SymbolicIndexingInterface.getsym"><code>getsym</code></a> or <a href="#SymbolicIndexingInterface.setsym"><code>setsym</code></a>. It stores the state vector, parameter object and current time, and forwards calls to <a href="#SymbolicIndexingInterface.state_values"><code>state_values</code></a>, <a href="#SymbolicIndexingInterface.parameter_values"><code>parameter_values</code></a>, <a href="#SymbolicIndexingInterface.current_time"><code>current_time</code></a>, <a href="#SymbolicIndexingInterface.set_state!"><code>set_state!</code></a>, <a href="#SymbolicIndexingInterface.set_parameter!"><code>set_parameter!</code></a> to the contained objects.</p><p>A history function may be provided using the <code>h</code> keyword, which will be returned with <a href="#SymbolicIndexingInterface.get_history_function"><code>get_history_function</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/SciML/SymbolicIndexingInterface.jl/blob/1765bdf702f3f82fbc105cdf1796d6e2a882227e/src/problem_state.jl#L1-L13">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../solution_wrappers/">« Defining Solution Wrapper Fallbacks</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.2 on <span class="colophon-date" title="Friday 25 April 2025 13:05">Friday 25 April 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
